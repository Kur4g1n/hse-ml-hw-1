# Выводы

## Что было сделано

### EDA

- Проведен базовый анализ датасета.
- Построен дашборд с основными визуализациями и статистиками датасета.
- Проведена предобработка данных. Данные приведены к нужным типам, удалены повторы, заполнены пропуски.
- Построены графики совместных распределений признаков и их корреляций.

### Модель на вещественных признаках

- Построена простая модель линейной регрессии.
- Добавлена стандартизация признаков.
- Улучшили модель с помощью l1 регуляризации.
- Построена модель ElasticNet с l1 и l2 регуляризацией.
- Подобраны гиперпараметры с помощью GridSearchCV.

### Модель с добавлением категориальных признаков

- Категориальные фичи закодированы с помощью OneHotEncoding.
- Обучена Ridge модель. Гиперпараметры подобраны с помощью GridSearchCV

### Бизнесовая

- Реализована функция для поиска доли прогнозов, отличающихся от реальных цен на эти авто не более чем на 10%.

### Streamlit приложение

- Сделано веб-приложение с использованием Streamlit.
- В приложении выводятся ключевые статистики и визуализации EDA.
- Загружается и запускается на тестовых данных лучшая обученная в предыдущих пунктах модель.
- Добавлена возможность интерактивного использования модели с заданием признаков автомобиля через окна ввода.

## Результаты

### Модель обученная только на числовых признаках

Лучший результат у Lasso с alpha=10^3. r2_score=0.57586. С такими параметрами модель полностью обнулила параметр seats. 
На наших данных модель обгнала ElasticNet, вероятно, она лучше справилась с переобучением на наших данных.

Лучший результат по бизнесовой метрике (0.212) у ElasticNet c alpha=10, l1_ratio=0.99.

Эти результаты модели "средние", значительно лучше, чем модель, которая всегда бы предсказывала среднее значение 
целевой переменной на обучающей выборке, но все еще есть место для улучшения.

### Модель обученная также на категориальных признаках

Лучший результат у модели Ridge с alpha=10. r2_score=0.6146.

### Наибольший прирост качества

Наибольший прирост качества дало добавление категориальных признаков.

## Что не удалось сделать

- Подобрать оптимальные параметры для ElasticNet, при которых эта модель обойдет Lasso. 
Возможно Lasso лучше справляется с переобучением на наших данных, но на написанной бизнес-метрике ElasticNet все же 
показал лучшие результаты.

## Оценка сервиса

Приложение достаточно удобно в использовании, EDA, визуализация и оценка модели и интерактивный запуск вынесены в 
отдельные вкладки, добавлены кнопки для загрузки csv-файлов по умолчанию для удобства.

В приложении использованы интерактивные графики plotly, что довольно удобно, но не удалось придумать, 
как красиво визуализировать совместные распределения признаков (не только корреляции).

Ограничения в основном связаны с форматированием, нельзя добавить выравнивание по центру для большинства элементов 
без html. Не удалось сделать более удобную навигацию и разделение на блоки.

В следующей итерации можно добавить навигацию в sidebar, добавить сохранение состояния (state) на странице,
чтобы не нужно было делать действия заново, после перезагрузки страницы. Еще планируется добавить больше визуализации
и, возможно, добавить больше функционала во вкладку интерактивного запуска модели.